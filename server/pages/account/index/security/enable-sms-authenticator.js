exports.ids = [24];
exports.modules = {

/***/ 1095:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_sms_authenticator_vue_vue_type_style_index_0_id_5848b5e8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(780);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_sms_authenticator_vue_vue_type_style_index_0_id_5848b5e8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_sms_authenticator_vue_vue_type_style_index_0_id_5848b5e8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_sms_authenticator_vue_vue_type_style_index_0_id_5848b5e8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_sms_authenticator_vue_vue_type_style_index_0_id_5848b5e8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_sms_authenticator_vue_vue_type_style_index_0_id_5848b5e8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 1096:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".sms-enable-page[data-v-5848b5e8]{min-height:100vh;display:flex;justify-content:center;align-items:center}.sms-enable-card[data-v-5848b5e8]{width:384px;box-shadow:0 0 10px rgba(0,0,0,.10196);border-radius:3px}.sms-enable-heading[data-v-5848b5e8]{color:#212833}.phone-input[data-v-5848b5e8]{margin:20px auto}.invalidPhoneNo.vue-tel-input[data-v-5848b5e8]{border:1px solid red!important}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 1479:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/account/index/security/enable-sms-authenticator.vue?vue&type=template&id=5848b5e8&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"sms-enable-page"},[_c('a-card',{staticClass:"sms-enable-card border-none"},[_c('h2',{staticClass:"sms-enable-heading Roboto-Medium",attrs:{"align":"center"}},[_vm._v("\n      "+_vm._s(_vm.$t('text_enable_sms_auth'))+"\n    ")]),_vm._v(" "),_c('div',{staticClass:"my-10"},[(_vm.showError)?_c('a-alert',{attrs:{"message":_vm.$t('warning_title'),"description":_vm.errorMsg,"type":"warning","closable":""},on:{"close":function (e) { return (_vm.showError = false); }}}):_vm._e()],1),_vm._v(" "),_c('div',{staticClass:"phone-input"},[_c('vue-tel-input',{class:{ invalidPhoneNo: !_vm.isValidPhoneNo },attrs:{"inputClasses":"ant-input ant-input-lg Roboto-Regular","dynamicPlaceholder":true},on:{"validate":_vm.validateMobileNumber},model:{value:(_vm.Sms.PhoneNumber),callback:function ($$v) {_vm.$set(_vm.Sms, "PhoneNumber", $$v)},expression:"Sms.PhoneNumber"}}),_vm._v(" "),(!_vm.isValidPhoneNo)?_c('span',{staticClass:"Roboto-Regular",style:({ color: 'red' })},[_vm._v("\n        "+_vm._s(_vm.$t('invalid_phone_no'))+"\n      ")]):_vm._e()],1),_vm._v(" "),_c('a-button',{staticClass:"Roboto-Medium",attrs:{"disabled":!_vm.isValidPhoneNo,"size":"large","type":"primary","loading":_vm.enableSmsLoading,"block":""},on:{"click":_vm.enableSms}},[_vm._v(_vm._s(_vm.$t('text_approve')))])],1)],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/account/index/security/enable-sms-authenticator.vue?vue&type=template&id=5848b5e8&scoped=true&

// EXTERNAL MODULE: external "vue-tel-input"
var external_vue_tel_input_ = __webpack_require__(134);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/account/index/security/enable-sms-authenticator.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var enable_sms_authenticatorvue_type_script_lang_js_ = ({
  name: 'EnableSmsAuthenticatorPage',
  middleware: ['auth'],
  components: {
    VueTelInput: external_vue_tel_input_["VueTelInput"]
  },

  head() {
    return {
      title: 'SMS OnayÄ± | Cointral.com'
    };
  },

  data() {
    return {
      Sms: {
        AreaCode: '',
        PhoneNumber: ''
      },
      isValidPhoneNo: false,
      PhoneNoDetails: {},
      enableSmsLoading: false,
      showError: false,
      errorMsg: ''
    };
  },

  methods: {
    async enableSms() {
      const {
        PhoneNumber
      } = this.Sms;

      let _PhoneNumber;

      if (PhoneNumber.startsWith('+')) {
        _PhoneNumber = PhoneNumber.slice(1).split(' ').join('');
      } else {
        _PhoneNumber = this.PhoneNoDetails.country.dialCode + PhoneNumber.slice(1).split(' ').join('');
      }

      try {
        const {
          $axios,
          $cookies,
          $store,
          $config: {
            FINANCE_API_URL
          }
        } = this;
        const authHeaders = {
          Authorization: 'Bearer ' + $cookies.get('Token')
        };
        this.enableSmsLoading = true;
        const response = await $axios.post(FINANCE_API_URL + '/EnableSMS', { ...this.Sms,
          PhoneNumber: _PhoneNumber
        }, {
          headers: authHeaders
        });
        const {
          Success,
          Message
        } = response.data;

        if (Success) {
          const {
            SecurityVerificationToken
          } = response.data;
          $store.commit('auth/setVerficationData', {
            SecurityVerificationToken,
            status: true,
            redirectURI: '/account'
          });
          this.enableSmsLoading = false;
          this.$router.push(this.localeRoute('/security-verification'));
        } else {
          this.showError = true;
          this.errorMsg = Message;
          this.enableSmsLoading = false;
        }
      } catch (e) {
        if (e.response) {
          const {
            Message
          } = e.response.data;
          this.showError = true;
          this.errorMsg = Message;
        }

        this.enableSmsLoading = false;
      }
    },

    validateMobileNumber(payload) {
      this.PhoneNoDetails = payload;
      this.isValidPhoneNo = payload.isValid;
      this.Sms.AreaCode = payload.country.dialCode;
    }

  },
  watch: {
    'Sms.PhoneNumber': function () {
      if (this.Sms.PhoneNumber === '') {
        this.isValidPhoneNo = true;
      }
    }
  }
});
// CONCATENATED MODULE: ./pages/account/index/security/enable-sms-authenticator.vue?vue&type=script&lang=js&
 /* harmony default export */ var security_enable_sms_authenticatorvue_type_script_lang_js_ = (enable_sms_authenticatorvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./pages/account/index/security/enable-sms-authenticator.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(1095)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  security_enable_sms_authenticatorvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "5848b5e8",
  "298dd845"
  
)

/* harmony default export */ var enable_sms_authenticator = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 780:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1096);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("54ff703f", content, true, context)
};

/***/ })

};;
//# sourceMappingURL=enable-sms-authenticator.js.map