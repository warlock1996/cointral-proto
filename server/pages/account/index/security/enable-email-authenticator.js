exports.ids = [22];
exports.modules = {

/***/ 1087:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_email_authenticator_vue_vue_type_style_index_0_id_8b3bd47e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(776);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_email_authenticator_vue_vue_type_style_index_0_id_8b3bd47e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_email_authenticator_vue_vue_type_style_index_0_id_8b3bd47e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_email_authenticator_vue_vue_type_style_index_0_id_8b3bd47e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_email_authenticator_vue_vue_type_style_index_0_id_8b3bd47e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enable_email_authenticator_vue_vue_type_style_index_0_id_8b3bd47e_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 1088:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".email-enable-page[data-v-8b3bd47e]{min-height:100vh;display:flex;justify-content:center;align-items:center}.email-enable-card[data-v-8b3bd47e]{width:384px;box-shadow:0 0 10px rgba(0,0,0,.10196);border-radius:3px}.email-enable-heading[data-v-8b3bd47e]{color:#212833;margin-bottom:10px}.email-input[data-v-8b3bd47e]{margin:20px auto 10px}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 1477:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/account/index/security/enable-email-authenticator.vue?vue&type=template&id=8b3bd47e&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"email-enable-page"},[_c('a-card',{staticClass:"email-enable-card border-none"},[_c('h2',{staticClass:"email-enable-heading Roboto-Medium",attrs:{"align":"center"}},[_vm._v("\n      "+_vm._s(_vm.$t('text_enable_email_auth'))+"\n    ")]),_vm._v(" "),_c('a-form-model',{ref:"enableEmailFormRef",attrs:{"model":_vm.enableEmail,"rules":_vm.enableEmailRules,"layout":"vertical"}},[_c('a-form-model-item',{attrs:{"has-feedback":"","prop":"EmailAddress"}},[_c('template',{slot:"label"},[_c('span',{staticClass:"email-label Roboto-Medium"},[_vm._v(_vm._s(_vm.$t('text_email')))])]),_vm._v(" "),_c('a-input',{staticClass:"Roboto-Regular",attrs:{"type":"email","size":"large"},model:{value:(_vm.enableEmail.EmailAddress),callback:function ($$v) {_vm.$set(_vm.enableEmail, "EmailAddress", $$v)},expression:"enableEmail.EmailAddress"}})],2)],1),_vm._v(" "),_c('a-button',{staticClass:"Roboto-Medium",attrs:{"disabled":!_vm.isValidEmail,"size":"large","type":"primary","loading":_vm.enableEmailLoading,"block":""},on:{"click":_vm.enableEmailVerif}},[_vm._v(_vm._s(_vm.$t('text_approve')))])],1)],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/account/index/security/enable-email-authenticator.vue?vue&type=template&id=8b3bd47e&scoped=true&

// EXTERNAL MODULE: external "vue-tel-input"
var external_vue_tel_input_ = __webpack_require__(134);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/account/index/security/enable-email-authenticator.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var enable_email_authenticatorvue_type_script_lang_js_ = ({
  name: 'EnableEmailAuthenticatorPage',
  middleware: ['auth'],
  components: {
    VueTelInput: external_vue_tel_input_["VueTelInput"]
  },

  head() {
    return {
      title: 'E-posta | Cointral.com'
    };
  },

  data() {
    /* eslint-disable */
    const emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

    const EmailValidator = (rule, value, callback) => {
      if (value === '') {
        callback(new Error('Please enter your E-mail'));
      } else if (!emailRegex.test(value.toString().toLowerCase())) {
        callback(new Error('Please Enter a Valid Email Address'));
      }

      callback();
    };

    return {
      emailRgx: emailRegex,
      enableEmail: {
        EmailAddress: ''
      },
      enableEmailRules: {
        EmailAddress: [{
          validator: EmailValidator,
          trigger: 'change'
        }]
      },
      enableEmailLoading: false
    };
  },

  methods: {
    async enableEmailVerif() {
      const {
        $axios,
        $cookies,
        $store,
        $config: {
          FINANCE_API_URL
        }
      } = this;
      const authHeaders = {
        Authorization: 'Bearer ' + $cookies.get('Token')
      };
      this.enableEmailLoading = true;
      const response = await $axios.post(FINANCE_API_URL + '/EnableEmail', this.enableEmail, {
        headers: authHeaders
      });
      this.enableEmailLoading = false;

      if (response.data.Success) {
        const {
          SecurityVerificationToken
        } = response.data;
        $store.commit('auth/setVerficationData', {
          SecurityVerificationToken,
          status: true,
          redirectURI: '/account'
        });
        this.$router.push(this.localeRoute('/security-verification'));
      }
    }

  },
  computed: {
    isValidEmail() {
      return this.emailRgx.test(this.enableEmail.EmailAddress.toString().toLowerCase());
    }

  }
});
// CONCATENATED MODULE: ./pages/account/index/security/enable-email-authenticator.vue?vue&type=script&lang=js&
 /* harmony default export */ var security_enable_email_authenticatorvue_type_script_lang_js_ = (enable_email_authenticatorvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./pages/account/index/security/enable-email-authenticator.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(1087)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  security_enable_email_authenticatorvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "8b3bd47e",
  "5778e848"
  
)

/* harmony default export */ var enable_email_authenticator = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 776:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1088);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("758f6dca", content, true, context)
};

/***/ })

};;
//# sourceMappingURL=enable-email-authenticator.js.map