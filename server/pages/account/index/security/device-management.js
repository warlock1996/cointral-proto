exports.ids = [21];
exports.modules = {

/***/ 1085:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_management_vue_vue_type_style_index_0_id_6476f452_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(775);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_management_vue_vue_type_style_index_0_id_6476f452_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_management_vue_vue_type_style_index_0_id_6476f452_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_management_vue_vue_type_style_index_0_id_6476f452_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_management_vue_vue_type_style_index_0_id_6476f452_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_7_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_management_vue_vue_type_style_index_0_id_6476f452_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 1086:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".header[data-v-6476f452]{margin-top:60px}.header p[data-v-6476f452]{font-size:14px;letter-spacing:0;color:#7a8393}.table-item[data-v-6476f452]{height:125px;widows:100%;border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0}.table-item .table-header[data-v-6476f452]{display:flex;justify-content:space-between}.table-item .table-header span[data-v-6476f452]{font-size:25px;margin-bottom:6px}.table-content[data-v-6476f452]{display:flex;flex-direction:column}.table-content .table-info[data-v-6476f452]{width:100%;display:flex;flex-direction:row;justify-content:space-between}.table-content .table-info span[data-v-6476f452]{font-size:10px/13px;letter-spacing:0;color:#838b9a}.popover-content[data-v-6476f452],.popover-content a[data-v-6476f452]{display:flex;flex-direction:column}.popover-content a[data-v-6476f452]{height:44px;align-items:center;justify-content:center;font-size:14px/19px;letter-spacing:0;color:#2c2c2c}.device-sub-table thead[data-v-6476f452]{display:none}.scroll-auto[data-v-6476f452]{display:block;overflow-y:scroll;height:117px}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 1476:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/account/index/security/device-management.vue?vue&type=template&id=6476f452&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-breadcrumb',[_c('a-breadcrumb-item',[_c('a',{on:{"click":function($event){_vm.$router.push(_vm.localeRoute('/account/security'))}}},[_vm._v(_vm._s(_vm.$t('header_text_security')))])]),_vm._v(" "),_c('a-breadcrumb-item',[_vm._v(_vm._s(_vm.$t('text_device_management')))])],1),_vm._ssrNode(" <div class=\"header\" data-v-6476f452><h1 data-v-6476f452>"+_vm._ssrEscape(_vm._s(_vm.$t('text_device_management')))+"</h1> <p data-v-6476f452>"+_vm._ssrEscape(_vm._s(_vm.$t('device_management_text_info')))+"</p></div> "),(!_vm.isMobile)?_c('a-table',{attrs:{"columns":_vm.columns,"row-key":function (record, index) { return record.DeviceId; },"data-source":_vm.deviceManagementData,"rowClassName":function () { return ['Roboto-Medium', 'expanded-row']; },"expandIconColumnIndex":4,"expandedRowKeys":_vm.deviceManagementRowKeys,"expandIconAsCell":false,"expandIcon":_vm.expandIcon},on:{"expand":_vm.setDeviceManagementRows},scopedSlots:_vm._u([{key:"IP_ItemList",fn:function(record){return [_vm._v("\n      "+_vm._s(record[0]['CreatedOn'])+"\n    ")]}},{key:"actions",fn:function(record){return [_c('a',{on:{"click":function($event){return _vm.deleteDevice(record.DeviceId)}}},[_vm._v(" Sil ")])]}},{key:"expandedRowRender",fn:function(record){return _c('div',{class:{'scroll-auto': record.IP_ItemList.length > 2}},[_c('table',[_c('tbody',{staticClass:"ant-table-tbody"},_vm._l((record.IP_ItemList),function(item,index){return _c('tr',{key:index,staticClass:"ant-table-row"},[_c('td',{staticStyle:{"width":"20%"}}),_vm._v(" "),_c('td',{staticStyle:{"width":"20%"}},[_vm._v("\n              "+_vm._s(item.CreatedOn)+"\n            ")]),_vm._v(" "),_c('td',{staticStyle:{"width":"20%"}},[_vm._v("\n              "+_vm._s(item.IP)+"\n            ")]),_vm._v(" "),_c('td',{staticStyle:{"width":"20%"}}),_vm._v(" "),_c('td',{staticStyle:{"width":"20%"}})])}),0)])])}}],null,false,584926709)}):_vm._e(),_vm._ssrNode(" "),(_vm.isMobile)?_vm._ssrNode("<div data-v-6476f452>","</div>",_vm._l((_vm.deviceManagementData),function(item,index){return _vm._ssrNode("<div class=\"table-item\" data-v-6476f452>","</div>",[_vm._ssrNode("<div class=\"table-header\" data-v-6476f452>","</div>",[_vm._ssrNode("<h2 data-v-6476f452>"+_vm._ssrEscape(_vm._s(item.Browser))+"</h2> "),_c('a-popover',{attrs:{"trigger":"click"}},[_c('div',{staticClass:"popover-content",attrs:{"slot":"content"},slot:"content"},[_c('a',{on:{"click":function($event){return _vm.showModal(index)}}},[_vm._v(_vm._s(_vm.$t('device_management_text_more')))]),_vm._v(" "),_c('a-modal',{attrs:{"footer":null,"visible":_vm.modalVisible,"title":_vm.$t('device_management_text_more')},on:{"cancel":_vm.handleCancel}},[_c('div',[_c('h1',[_vm._v(_vm._s(item.Browser))]),_vm._v(" "),_vm._l((item.IP_ItemList),function(ip){return [_c('div',[_c('div',{staticClass:"table-content"},[_c('div',{staticClass:"table-info"},[_c('span',[_vm._v(_vm._s(_vm.$t('device_management_text_date')))]),_vm._v(" "),_c('p',[_vm._v(_vm._s(ip.CreatedOn))])]),_vm._v(" "),_c('div',{staticClass:"table-info"},[_c('span',[_vm._v(_vm._s(_vm.$t('device_management_text_ipadress')))]),_vm._v(" "),_c('p',[_vm._v(_vm._s(ip.IP))])])])])]})],2)]),_vm._v(" "),_c('a',{on:{"click":function($event){return _vm.deleteDevice(item)}}},[_vm._v(_vm._s(_vm.$t('device_management_text_delete')))])],1),_vm._v(" "),_c('span',[_vm._v("...")])])],2),_vm._ssrNode(" <div class=\"table-content\" data-v-6476f452><div class=\"table-info\" data-v-6476f452><span data-v-6476f452>"+_vm._ssrEscape(_vm._s(_vm.$t('device_management_text_date')))+"</span> <p data-v-6476f452>"+_vm._ssrEscape(_vm._s(item.IP_ItemList[0].CreatedOn))+"</p></div> <div class=\"table-info\" data-v-6476f452><span data-v-6476f452>"+_vm._ssrEscape(_vm._s(_vm.$t('device_management_text_ipadress')))+"</span> <p data-v-6476f452>"+_vm._ssrEscape(_vm._s(item.IP_ItemList[0].IP))+"</p></div></div>")],2)}),0):_vm._e()],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/account/index/security/device-management.vue?vue&type=template&id=6476f452&scoped=true&

// EXTERNAL MODULE: external "mobile-device-detect"
var external_mobile_device_detect_ = __webpack_require__(136);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/account/index/security/device-management.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
const columns = [{
  title: 'Cihaz',
  dataIndex: 'Browser',
  width: '20%',
  key: 'browser'
}, {
  title: 'Tarih',
  dataIndex: 'IP_ItemListDate',
  Key: 'IP_ItemListDate',
  width: '20%',
  scopedSlots: {
    customRender: 'IP_ItemListDate'
  }
}, {
  title: 'IP Adresi',
  dataIndex: 'IP_ItemList',
  Key: 'IP_ItemList',
  scopedSlots: {
    customRender: 'IP_ItemList'
  },
  width: '20%'
}, {
  title: 'Eylem',
  Key: 'actions',
  scopedSlots: {
    customRender: 'actions'
  },
  width: '20%'
}, {
  title: '',
  dataIndex: 'xpand',
  Key: 'xpand',
  scopedSlots: {
    customRender: 'xpand'
  },
  width: '20%'
}, {
  title: '',
  dataIndex: '',
  width: '5%'
}];
const subcolumns = [{
  title: '',
  dataIndex: '',
  width: '20%',
  key: 'browser'
}, {
  title: '',
  dataIndex: 'CreatedOn',
  key: 'CreatedOn',
  width: '20%'
}, {
  title: '',
  dataIndex: 'IP',
  key: 'IP',
  width: '20%'
}, {
  title: '',
  dataIndex: '',
  key: 'actions',
  width: '20%'
}, {
  title: '',
  dataIndex: '',
  width: '5%'
}];

/* harmony default export */ var device_managementvue_type_script_lang_js_ = ({
  name: 'Management',

  head() {
    return {
      title: 'Cihaz Yönetimi | Cointral.com'
    };
  },

  data() {
    return {
      columns,
      subcolumns,
      deviceManagementData: [],
      deviceManagementRowKeys: [],
      isMobile: external_mobile_device_detect_["isMobile"],
      visible: [],
      modalVisible: false,
      deneme: false
    };
  },

  mounted() {
    this.getDeviceManagementData();
  },

  methods: {
    showModal(index) {
      this.modalVisible = true;
    },

    handleCancel(e) {
      this.modalVisible = false;
    },

    setDeviceManagementRows(expanded, record) {
      if (expanded) {
        this.deviceManagementRowKeys = [record.DeviceId];
      } else {
        this.deviceManagementRowKeys = [];
      }
    },

    async getDeviceManagementData() {
      try {
        let authHeaders = {
          Authorization: 'Bearer ' + this.$cookies.get('Token')
        };
        const response = await this.$axios.get(this.$config.FINANCE_API_URL + `/GetUserBrowserList`, {
          headers: authHeaders
        });

        if (response.data) {
          let modalSize = []; //this.deviceManagementData = response.data.UserBrowser;

          this.deviceManagementData = [{
            Browser: "Chrome",
            DeviceId: "fd0bc20cc624dea185ad2d219591cebf",
            IP_ItemList: [{
              IP: "202.47.35.63",
              CreatedOn: "2020-10- 31T05:19:30Z"
            }, {
              IP: "202.47.35.63",
              CreatedOn: "2020-10- 31T05:19:30Z"
            }, {
              IP: "202.47.35.63",
              CreatedOn: "2020-10- 31T05:19:30Z"
            }]
          }, {
            Browser: "Chrome",
            DeviceId: "fd0bc20cc624dea185ad2d219592cebf",
            IP_ItemList: [{
              IP: "102.47.35.63",
              CreatedOn: "2020-10- 31T05:19:30Z"
            }]
          }];
          this.visible.length = response.data.UserBrowser.length;
          modalSize = response.data.UserBrowser;
          modalSize.forEach((element, index) => {
            // this.modalVisible[index] = false
            this.modalVisible = false;
          });
        }
      } catch (e) {}
    },

    async deleteDevice(id) {
      try {
        let payload = {
          DeviceId: id
        };
        const response = await this.$axios({
          method: 'delete',
          url: this.$config.FINANCE_API_URL + '/DeleteBrowser',
          data: payload,
          headers: {
            Authorization: 'Bearer ' + this.$cookies.get('Token'),
            'Content-Type': 'application/json'
          }
        });

        if (response.data.Success) {
          this.getDeviceManagementData();
        }
      } catch (e) {}
    },

    getSubItems(arr) {
      if (arr.length === 1) {
        return [];
      }

      return arr.slice(1);
    },

    expandIcon(props) {
      const h = this.$createElement;
      const close = h("span", [h("svg", {
        "attrs": {
          "id": "Component_3_39",
          "data-name": "Component 3 – 39",
          "xmlns": "http://www.w3.org/2000/svg",
          "width": "9",
          "height": "5",
          "viewBox": "0 0 7 4"
        }
      }, [h("path", {
        "attrs": {
          "id": "Polygon_5",
          "data-name": "Polygon 5",
          "d": "M3.5,0,7,4H0Z",
          "transform": "translate(7 4) rotate(180)",
          "fill": "#858e9d"
        }
      })])]);
      const open = h("span", [h("svg", {
        "attrs": {
          "xmlns": "http://www.w3.org/2000/svg",
          "width": "9",
          "height": "5",
          "viewBox": "0 0 7 4"
        }
      }, [h("g", {
        "attrs": {
          "id": "Component_24",
          "data-name": "Component 24",
          "transform": "translate(7 4) rotate(180)"
        }
      }, [h("path", {
        "attrs": {
          "id": "Polygon_5",
          "data-name": "Polygon 5",
          "d": "M3.5,0,7,4H0Z",
          "transform": "translate(7 4) rotate(180)",
          "fill": "#858e9d"
        }
      })])])]);
      const icon = props.expanded ? open : close;
      return h("a", {
        "class": "expand-row-icon",
        "on": {
          "click": e => props.onExpand(props.record, e)
        },
        "style": {
          color: 'blue',
          cursor: 'pointer'
        }
      }, [icon]);
    }

  }
});
// CONCATENATED MODULE: ./pages/account/index/security/device-management.vue?vue&type=script&lang=js&
 /* harmony default export */ var security_device_managementvue_type_script_lang_js_ = (device_managementvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./pages/account/index/security/device-management.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(1085)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  security_device_managementvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "6476f452",
  "994e328c"
  
)

/* harmony default export */ var device_management = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 775:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1086);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("eb04ce58", content, true, context)
};

/***/ })

};;
//# sourceMappingURL=device-management.js.map