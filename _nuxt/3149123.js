(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1275:function(t,e,r){"use strict";r.r(e);var o={layout:"login",data:function(){return{isMobile:null}},mounted:function(){var t=this;this.isMobile=window.innerWidth<1e3,window.addEventListener("resize",(function(){t.isMobile=window.innerWidth<1e3}))}},n=r(19),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{margin:"50px 0"}},[r("a-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[r("a-col",{attrs:{xs:t.isMobile?24:20,md:8}},[r("a-card",{staticClass:"card-box-shadow border-none",attrs:{bordered:!1}},[t._t("auth-card-header"),t._v(" "),r("div",{staticClass:"my-20"},[t._t("auth-card-feedback")],2),t._v(" "),t._t("auth-card-content"),t._v(" "),t._t("auth-card-actions")],2)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},1293:function(t,e,r){"use strict";r(42),r(43),r(22);e.a={data:function(){return{emailRegex:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,passwordRegex:/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=\S+$).{8,}$/}},methods:{EmailValidator:function(t,e,r){""===e?r(new Error(this.$t("validation_text_email"))):this.emailRegex.test(e.toString().toLowerCase())||r(new Error(this.$t("validation_text_valid_email"))),r()},PasswordValidator:function(t,e,r){""===e?r(new Error(this.$t("validation_text_password"))):this.passwordRegex.test(e.toString())?r():r(new Error(this.$t("password_text_regex")))},PasswordValidatorEmail:function(t,e,r){""===e?r(new Error(this.$t("validation_text_password"))):this.passwordRegex.test(e.toString())?(""!==this.signUpEmail.confirmPassword&&this.$refs.signUpEmailFormRef.validateField("confirmPassword"),r()):r(new Error(this.$t("password_text_regex")))},PasswordValidatorMobile:function(t,e,r){""===e?r(new Error(this.$t("validation_text_password"))):this.passwordRegex.test(e.toString())?(""!==this.signUpMobile.confirmPassword&&this.$refs.signUpMobileFormRef.validateField("confirmPassword"),r()):r(new Error(this.$t("password_text_regex")))},confirmPasswordValidatorEmail:function(t,e,r){""===e?r(new Error(this.$t("validation_text_password_again"))):e!==this.signUpEmail.Password?r(new Error(this.$t("validation_text_password_match"))):r()},confirmPasswordValidatorMobile:function(t,e,r){""===e?r(new Error(this.$t("validation_text_password_again"))):e!==this.signUpMobile.Password?r(new Error(this.$t("validation_text_password_match"))):r()},ResetPasswordValidator:function(t,e,r){""===e?r(new Error(this.$t("validation_text_password"))):this.passwordRegex.test(e.toString())?(""!==this.resetPasswords.ConfirmPassword&&this.$refs.resetPasswordsRef.validateField("ConfirmPassword"),r()):r(new Error(this.$t("password_text_regex")))},ConfirmResetPasswordValidator:function(t,e,r){""===e?r(new Error(this.$t("validation_text_password_again"))):e!==this.resetPasswords.NewPassword?r(new Error(this.$t("validation_text_password_match"))):r()},DocumentTypeValidator:function(t,e,r){""!==e&&null!==e&&e?r():r(new Error(this.$t("validation_text_document_type")))}}}},1505:function(t,e,r){var content=r(2502);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(54).default)("7a4660c2",content,!0,{sourceMap:!1})},1675:function(t,e,r){"use strict";r.r(e);r(115),r(83),r(25);var o=r(13),n=r(1328),l={mixins:[r(1293).a],props:{isResetPasswordLoading:{type:Boolean,default:!1}},components:{VueTelInput:n.a},data:function(){return{tabList:[{key:"Email",scopedSlots:{tab:"titleSlot"}},{key:"Mobile",scopedSlots:{tab:"titleSlot"}}],activeKey:"Email",resetPassword:{Email:"",PhoneNumber:"",AreaCode:""},resetPasswordRules:{Email:[{validator:this.EmailValidator,trigger:"change"}]},isValidPhoneNo:!1}},methods:{emitResetPassword:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n,l,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.resetPassword,o=r.Email,n=r.PhoneNumber,l=r.AreaCode,e.prev=1,t.$recaptcha.language=t.$cookies.get("i18n_redirected"),e.next=5,t.$recaptcha.getResponse();case 5:return d=e.sent,e.next=8,t.$recaptcha.reset();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("captcha error: ",e.t0);case 13:"Email"===t.activeKey?t.$emit("resetPassword",{data:{Email:o},token:d}):(c=n.slice(1).replace(l,"").split(" ").join(""),t.$emit("resetPassword",{data:{PhoneNumber:c,AreaCode:l},token:d}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},validateMobileNumber:function(t){this.isValidPhoneNo=t.isValid,this.resetPassword.AreaCode=t.country.dialCode}}},d=(r(2501),r(19)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-card",{staticClass:"border-none",attrs:{bordered:!1,tabList:t.tabList,"active-tab-key":t.activeKey},on:{tabChange:function(e){return t.activeKey=e}},scopedSlots:t._u([{key:"titleSlot",fn:function(e){return r("span",{class:{"login-tab-title-active":e.key===t.activeKey,"login-tab-title-inactive":e.key!==t.activeKey}},[t._v("\n    "+t._s(e.key)+"\n  ")])}}])},[t._v(" "),"Email"===t.activeKey?r("div",[r("a-form-model",{attrs:{layout:"vertical",model:t.resetPassword,rules:t.resetPasswordRules},on:{submit:function(e){return e.preventDefault(),t.emitResetPassword(e)}}},[r("a-form-model-item",{attrs:{label:t.$t("login_text_email_info"),"has-feedback":"",prop:"Email"}},[r("a-input",{staticClass:"Roboto-Regular",attrs:{type:"email",size:"large"},model:{value:t.resetPassword.Email,callback:function(e){t.$set(t.resetPassword,"Email",e)},expression:"resetPassword.Email"}})],1),t._v(" "),r("a-form-model-item",[r("a-button",{staticClass:"login-button border-none Roboto-Medium",attrs:{loading:t.isResetPasswordLoading,disabled:!t.emailRegex.test(t.resetPassword.Email),type:"primary",size:"large",block:""},on:{click:t.emitResetPassword}},[t._v(t._s(t.$t("login_text_reset_password")))]),t._v(" "),r("recaptcha"),t._v(" "),r("small",[t._v("This site is protected by reCAPTCHA and the Google\n          "),r("a",{attrs:{href:"https://policies.google.com/privacy"}},[t._v("Privacy Policy")]),t._v(" and\n          "),r("a",{attrs:{href:"https://policies.google.com/terms"}},[t._v("Terms of Service")]),t._v("\n          apply.\n        ")])],1)],1)],1):t._e(),t._v(" "),"Mobile"===t.activeKey?r("div",[r("a-form-model",{attrs:{layout:"vertical"},on:{submit:function(e){return e.preventDefault(),t.emitResetPassword(e)}}},[r("a-form-model-item",{attrs:{label:t.$t("login_text_phone_info")}},[r("vue-tel-input",{class:{invalidPhoneNo:!t.isValidPhoneNo},attrs:{inputClasses:"ant-input ant-input-lg",dynamicPlaceholder:!0},on:{validate:t.validateMobileNumber},model:{value:t.resetPassword.PhoneNumber,callback:function(e){t.$set(t.resetPassword,"PhoneNumber",e)},expression:"resetPassword.PhoneNumber"}}),t._v(" "),t.isValidPhoneNo?t._e():r("span",{style:{color:"red"}},[t._v("\n          "+t._s(t.$t("login_text_invalid_phone"))+"\n        ")])],1),t._v(" "),r("a-form-model-item",[r("a-button",{staticClass:"login-button border-none Roboto-Medium",attrs:{loading:t.isResetPasswordLoading,disabled:!t.isValidPhoneNo,type:"primary",size:"large",block:""},on:{click:t.emitResetPassword}},[t._v(t._s(t.$t("login_text_reset_password")))]),t._v(" "),r("recaptcha"),t._v(" "),r("small",[t._v("This site is protected by reCAPTCHA and the Google\n          "),r("a",{attrs:{href:"https://policies.google.com/privacy"}},[t._v("Privacy Policy")]),t._v(" and\n          "),r("a",{attrs:{href:"https://policies.google.com/terms"}},[t._v("Terms of Service")]),t._v("\n          apply.\n        ")])],1)],1)],1):t._e()])}),[],!1,null,"19dcf436",null);e.default=component.exports},2501:function(t,e,r){"use strict";var o=r(1505);r.n(o).a},2502:function(t,e,r){(e=r(53)(!1)).push([t.i,".login-button[data-v-19dcf436]{background-color:var(--login-button-bg-color);color:var(--login-button-text-color)}.login-tab-title-inactive[data-v-19dcf436]{color:var(--login-tab-title-inactive-color)}.login-tab-title-active[data-v-19dcf436]{color:var(--login-tab-title-active-color)}.invalidPhoneNo.vue-tel-input[data-v-19dcf436]{border:1px solid red!important}",""]),t.exports=e},2768:function(t,e,r){"use strict";r.r(e);r(25);var o=r(13),n=r(1275),l=r(1675),d={middleware:["public"],layout:"login",components:{Index:n.default,ResetPasswordContent:l.default},head:function(){return{title:"Parola Sıfırla | Cointral.com"}},data:function(){return{isResetPasswordLoading:!1,showError:!1,errorMsg:""}},methods:{resetPassword:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,n,l,d,c,m,w,v,h,_,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.isResetPasswordLoading=!0,o=e.$axios,e.$cookies,n=e.$config.FINANCE_API_URL,l=e.$store,d=e.$router,r.next=5,o.post(n+"/ResetPassword",t.data,{headers:{captcha:t.token}});case 5:c=r.sent,m=c.data,w=m.Success,v=m.Message,h=m.RequiredSecurityVerification,_=m.ResetVerificationToken,w?h&&(l.commit("auth/setVerficationData",{status:!0,redirectURI:"/login",SecurityVerificationToken:_}),d.push(e.localeRoute("/security-verification"))):(e.showError=!0,e.errorMsg=v),r.next=18;break;case 14:r.prev=14,r.t0=r.catch(0),r.t0.response&&(f=response.data.Message,e.showError=!0,e.errorMsg=f),console.error(r.t0);case 18:return r.prev=18,e.isResetPasswordLoading=!1,r.finish(18);case 21:case"end":return r.stop()}}),r,null,[[0,14,18,21]])})))()}}},c=r(19),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Index",[r("template",{slot:"auth-card-header"},[r("h2",{staticClass:"text-center"},[t._v(t._s(t.$t("reset_password")))])]),t._v(" "),r("template",{slot:"auth-card-feedback"},[t.showError?r("a-alert",{attrs:{message:t.$t("warning_title"),description:t.errorMsg,type:"warning",closable:""},on:{close:function(e){return t.showError=!1}}}):t._e()],1),t._v(" "),r("template",{slot:"auth-card-content"},[r("ResetPasswordContent",{attrs:{isResetPasswordLoading:t.isResetPasswordLoading},on:{resetPassword:t.resetPassword}})],1)],2)}),[],!1,null,"dcb0238e",null);e.default=component.exports;installComponents(component,{ResetPasswordContent:r(1675).default,Index:r(1275).default})}}]);