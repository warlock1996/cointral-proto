(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1419:function(e,t,n){var content=n(1820);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(54).default)("884af762",content,!0,{sourceMap:!1})},1819:function(e,t,n){"use strict";var r=n(1419);n.n(r).a},1820:function(e,t,n){(t=n(53)(!1)).push([e.i,".sms-enable-page[data-v-3e62ffb1]{min-height:100vh;display:flex;justify-content:center;align-items:center}.sms-enable-card[data-v-3e62ffb1]{width:384px;box-shadow:0 0 10px rgba(0,0,0,.10196);border-radius:3px}.sms-enable-heading[data-v-3e62ffb1]{color:#212833}.phone-input[data-v-3e62ffb1]{margin:20px auto}.invalidPhoneNo.vue-tel-input[data-v-3e62ffb1]{border:1px solid red!important}",""]),e.exports=t},2752:function(e,t,n){"use strict";n.r(t);n(63),n(32),n(31),n(22),n(55);var r=n(26),o=(n(83),n(654),n(25),n(13));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={name:"EnableSmsAuthenticatorPage",middleware:["auth"],components:{VueTelInput:n(1328).a},head:function(){return{title:"SMS OnayÄ± | Cointral.com"}},data:function(){return{Sms:{AreaCode:"",PhoneNumber:""},isValidPhoneNo:!1,PhoneNoDetails:{},enableSmsLoading:!1,showError:!1,errorMsg:""}},methods:{enableSms:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,d,h,m,f,v,P,y,S,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.Sms.PhoneNumber,r=n.startsWith("+")?n.slice(1).split(" ").join(""):e.PhoneNoDetails.country.dialCode+n.slice(1).split(" ").join(""),t.prev=2,o=e.$axios,c=e.$cookies,d=e.$store,h=e.$config.FINANCE_API_URL,m={Authorization:"Bearer "+c.get("Token")},e.enableSmsLoading=!0,t.next=8,o.post(h+"/EnableSMS",l(l({},e.Sms),{},{PhoneNumber:r}),{headers:m});case 8:f=t.sent,v=f.data,P=v.Success,y=v.Message,P?(S=f.data.SecurityVerificationToken,d.commit("auth/setVerficationData",{SecurityVerificationToken:S,status:!0,redirectURI:"/account/security"}),e.enableSmsLoading=!1,e.$router.push(e.localeRoute("/security-verification"))):(e.showError=!0,e.errorMsg=y,e.enableSmsLoading=!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),t.t0.response&&(w=t.t0.response.data.Message,e.showError=!0,e.errorMsg=w),e.enableSmsLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[2,13]])})))()},validateMobileNumber:function(e){this.PhoneNoDetails=e,this.isValidPhoneNo=e.isValid,this.Sms.AreaCode=e.country.dialCode}},watch:{"Sms.PhoneNumber":function(){""===this.Sms.PhoneNumber&&(this.isValidPhoneNo=!0)}}},h=(n(1819),n(19)),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sms-enable-page"},[n("a-card",{staticClass:"sms-enable-card border-none"},[n("h2",{staticClass:"sms-enable-heading Roboto-Medium",attrs:{align:"center"}},[e._v("\n      "+e._s(e.$t("text_enable_sms_auth"))+"\n    ")]),e._v(" "),n("div",{staticClass:"my-10"},[e.showError?n("a-alert",{attrs:{message:e.$t("warning_title"),description:e.errorMsg,type:"warning",closable:""},on:{close:function(t){return e.showError=!1}}}):e._e()],1),e._v(" "),n("div",{staticClass:"phone-input"},[n("vue-tel-input",{class:{invalidPhoneNo:!e.isValidPhoneNo},attrs:{inputClasses:"ant-input ant-input-lg Roboto-Regular",dynamicPlaceholder:!0},on:{validate:e.validateMobileNumber},model:{value:e.Sms.PhoneNumber,callback:function(t){e.$set(e.Sms,"PhoneNumber",t)},expression:"Sms.PhoneNumber"}}),e._v(" "),e.isValidPhoneNo?e._e():n("span",{staticClass:"Roboto-Regular",style:{color:"red"}},[e._v("\n        "+e._s(e.$t("invalid_phone_no"))+"\n      ")])],1),e._v(" "),n("a-button",{staticClass:"Roboto-Medium",attrs:{disabled:!e.isValidPhoneNo,size:"large",type:"primary",loading:e.enableSmsLoading,block:""},on:{click:e.enableSms}},[e._v(e._s(e.$t("text_approve")))])],1)],1)}),[],!1,null,"3e62ffb1",null);t.default=component.exports}}]);